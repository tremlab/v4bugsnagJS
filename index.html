<!DOCTYPE html>
<html>
  <head>
    <title>Bugsnag JS v4: Javascript/jQuery/Ajax example</title>

    <!-- make sure to update src if you were using v3 before. -->
    <script src="//d2wy8f7a9ursnm.cloudfront.net/v4/bugsnag.min.js"></script>

    <!-- below initializes the bugsnag client.  Only API key is required. -->
    <!-- Get your own api key to see what the error reports look like!
          www.bugsnag.com   -->
    <script>window.bugsnagClient = bugsnag({
      apiKey: '8b1f5fc2a44d5f6cdbaff524d74c33b1',
      // version is important for source maps, and keeping trap of progress on each version.
       appVersion: '1.2.3',
       releaseStage: 'development',
       notifyReleaseStages: [ 'development', 'production'],
      user: { id: '007', name: 'Diana Prince', email: 'ww@amazons.com'} 
      })
    </script>
  </head>

  <body>
    <h1>Bugsnag JS v4: Javascript/jQuery/Ajax example</h1>
    <p>
      This page is a basic example of how to include bugsnag-js on a page via a
      <code>&lt;script&gt;</code> tag.
    </p>

<!-- These inputs allow you to specify different error datapoints in your browser, 
      so you can see what these error reports look like on the dashboard, 
      and how (in the javascript) the notifer can edit error report data before sending to bugsnag. 
-->

  <p>Username
    <!-- Bugsnag can add specifc user info from the session so you know exactly which users have been impacted by an error.  -->
    <input type="text" name="user" id="username"><br>

    <!-- Both handled and unhandled errors can be reported to Bugsnag, 
          but they are configured differently and can easily be filtered in the dashboard. -->
    Can you handle it?
  <div id="handling">
    <input type="radio" name="handling" value="no" checked>No
    <input type="radio" name="handling" value="yes">Yes<br>
  </p>
  </div>
  <div id="rstage">
    <!-- Keep production errors separate from staging, or even block a stage entirely from your dashboard if they get too noisy. -->
    <p>Release Stage:
      <select>
        <option value="production">production</option>
        <option value="development">development</option>
        <option value="staging">staging</option>
        <option value="monkeys">monkeys</option>
      </select>
      </p>
    </div>

    <!-- The data selected above will be applied to the configuration of each error report generated by the clicks below: -->

    <div id="javascript">
        <p>JAVASCRIPT ERRORS</p>
          <button type="button" id="jsRangeError">RangeError</button>
          <button type="button" id="jsRefError">ReferenceError</button>
          <button type="button" id="jsTypeError">TypeError</button>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <!-- loading (bugsnag-filled!) javascript after the DOM has loaded because of event listeners. 

    N.B. bugsnag was initilaized in the header, so any errors before this line will be reported, but not with the custom user data that app.js will configure. -->
    <script src="app.js"></script>

    <script>
      // Syntax errors like this trigger a `window.onerror` event which get caught
      // by the bugsnag notifier.
      console.log('this invalid syntax triggers a ParseError'
    </script>
  </body>
</html>



